{"path":".\/app\/Http\/Controllers\/","version":"1.0","title":"","baseHost":"","mode":2,"output":".\/oa.json","group":{"\u89d2\u8272":{"\u90e8\u95e8":{"api":[{"url":{"method":"post","path":"\/staff\/department","description":"\u521b\u5efa\u90e8\u95e8(\u521b\u5efa\u6210\u529f\u8fd4\u56deid)"},"params":[{"type":"string","name":"name","required":true,"default":null,"description":"\u90e8\u95e8\u540d\u79f0"},{"type":"string","name":"duty","required":false,"default":null,"description":"\u90e8\u95e8\u804c\u8d23"},{"type":"int","name":"pid","required":false,"default":"0","description":"\u4e0a\u7ea7\u90e8\u95e8\uff08\u90e8\u95e8\u7684id\uff09"}],"return_example":"{\"msg\":\"ok\",\"result\":2,\"code\":0,\"state\":true}"},{"url":{"method":"put","path":"\/staff\/department\/{department_id}","description":"\u4fee\u6539\u90e8\u9580\u7684\u4fe1\u606f"},"params":[{"type":"string","name":"name","required":false,"default":null,"description":"\u90e8\u95e8\u540d\u79f0"},{"type":"string","name":"duty","required":false,"default":null,"description":"\u90e8\u95e8\u804c\u8d23"},{"type":"int","name":"pid","required":false,"default":null,"description":"\u4e0a\u7ea7\u90e8\u95e8\uff08\u90e8\u95e8\u7684id\uff09"}],"return_example":"{\"msg\":\"ok\",\"result\":true,\"code\":0,\"state\":true}"},{"url":{"method":"delete","path":"\/staff\/department\/{department_id}","description":"\u5220\u9664\u90e8\u95e8\u4ee5\u53ca\u5176\u5458\u5de5"},"return_example":"{\"msg\":\"ok\",\"result\":true,\"code\":0,\"state\":true}"},{"url":{"method":"get","path":"\/staff\/department\/all","description":"\u6240\u6709\u90e8\u95e8"},"return_example":"{\"msg\":\"ok\",\"result\":[{\"id\":1,\"pid\":\"0\",\"depth\":\"0\",\"name\":\"\\u516c\\u53f8\",\"duty\":\"\",\"created_at\":\"2021-01-1414:38:29\",\"updated_at\":\"2021-01-1414:38:29\",\"children\":[{\"id\":3,\"pid\":\"1\",\"depth\":\"1\",\"name\":\"\\u4e00\\u7ea7\\u90e8\\u95e8\",\"duty\":\"\",\"created_at\":null,\"updated_at\":null,\"children\":[{\"id\":4,\"pid\":\"3\",\"depth\":\"2\",\"name\":\"2\\u7ea7\\u90e8\\u95e8\",\"duty\":\"\",\"created_at\":\"2021-01-1414:44:55\",\"updated_at\":\"2021-01-1414:44:55\",\"children\":[{\"id\":6,\"pid\":\"4\",\"depth\":\"3\",\"name\":\"\\u4e09\\u7ea7\\u90e8\\u95e8\",\"duty\":\"\",\"created_at\":null,\"updated_at\":null,\"children\":[]}]}]}]},{\"id\":2,\"pid\":\"0\",\"depth\":\"0\",\"name\":\"\\u516c\\u53f82\",\"duty\":\"\",\"created_at\":null,\"updated_at\":null,\"children\":[{\"id\":7,\"pid\":\"2\",\"depth\":\"1\",\"name\":\"\\u516c\\u53f82\\u7684\\u90e8\\u95e8\",\"duty\":\"\",\"created_at\":null,\"updated_at\":null,\"children\":[]}]},{\"id\":5,\"pid\":\"0\",\"depth\":\"0\",\"name\":\"\\u6d4b\\u8bd5\\u516c\\u53f8\",\"duty\":\"\",\"created_at\":null,\"updated_at\":null,\"children\":[]}],\"code\":0,\"state\":true}"},{"url":{"method":"get","path":"\/staff\/department\/staff\/{department_id}","description":"\u90e8\u95e8\u5185\u7684\u5458\u5de5"},"return_example":"{\"msg\":\"ok\",\"result\":[{\"user_id\":\"5\",\"status\":\"1\",\"name\":\"\\u4e00\\u53f7\\u5458\\u5de5\",\"nick_name\":\"\",\"mobile\":\"\",\"mail\":\"\",\"job_number\":\"#001\",\"duty\":\"\",\"join_time\":\"2021-01-1407:45:59\",\"created_at\":\"2021-01-1415:39:05\",\"updated_at\":\"2021-01-1415:39:05\",\"role\":\"\\u5f00\\u53d1\"},{\"user_id\":\"0\",\"status\":\"1\",\"name\":\"\\u4e8c\\u53f7\\u5458\\u5de5\",\"nick_name\":\"\",\"mobile\":\"\",\"mail\":\"\",\"job_number\":\"#002\",\"duty\":\"\",\"join_time\":\"2020-12-3100:00:00\",\"created_at\":\"2021-01-1415:39:52\",\"updated_at\":\"2021-01-1415:39:52\",\"role\":\"\\u5f00\\u53d1\"}],\"code\":0,\"state\":true}"},{"url":{"method":"get","path":"\/staff\/department\/child","description":"\u67e5\u770b\u672c\u4eba\u7ba1\u7406\u7684\u90e8\u95e8\uff08\u53ea\u8fd4\u56de\u90e8\u95e8\uff09\u4ee5\u53ca\u5176\u4e0a\u7ea7\u90e8\u95e8"},"params":[{"type":"bool","name":"tree","required":false,"default":"true","description":"\u662f\u5426\u8fd4\u56de\u6811\u72b6\u6570\u636e"}],"return_example":"{\"msg\":\"ok\",\"result\":[{\"id\":1,\"pid\":\"0\",\"depth\":\"0\",\"name\":\"\\u90e8\\u95e82123A\",\"duty\":\"\",\"created_at\":\"2021-01-1814:06:56\",\"updated_at\":\"2021-01-1814:07:47\",\"children\":[{\"id\":2,\"pid\":\"1\",\"depth\":\"1\",\"name\":\"dqww\",\"duty\":\"\",\"created_at\":null,\"updated_at\":null,\"children\":[],\"staff\":[],\"lead\":[]}],\"staff\":[{\"id\":2,\"user_id\":\"0\",\"status\":\"1\",\"name\":\"\\u5458\\u5de5B\",\"nick_name\":\"\",\"mobile\":\"\",\"mail\":\"\",\"job_number\":\"\",\"duty\":\"\",\"join_time\":\"2021-01-1808:29:46\",\"created_at\":null,\"updated_at\":null,\"full_access\":\"0\",\"role\":\"\\u5458\\u5de5A\",\"role_duty\":\"\"}],\"lead\":{\"id\":1,\"user_id\":\"0\",\"status\":\"1\",\"name\":\"\\u5458\\u5de5A\",\"nick_name\":\"\",\"mobile\":\"\",\"mail\":\"\",\"job_number\":\"#001\",\"duty\":\"\",\"join_time\":\"2020-01-1800:00:00\",\"created_at\":\"2021-01-1814:10:44\",\"updated_at\":\"2021-01-1814:10:44\",\"full_access\":\"1\",\"role\":\"\\u5f00\\u53d1A\",\"role_duty\":\"\"}}],\"code\":0,\"state\":true}"}],"info":[]},"\u5c97\u4f4d":{"api":[{"url":{"method":"post","path":"\/staff\/role","description":"\u65b0\u589e\u5c97\u4f4d(\u6210\u529f\u8fd4\u56deid)"},"params":[{"type":"string","name":"name","required":true,"default":null,"description":"\u5c97\u4f4d\u540d\u79f0"},{"type":"string","name":"duty","required":false,"default":null,"description":"\u5c97\u4f4d\u804c\u8d23"},{"type":"string","name":"full_access","required":false,"default":"0","description":"\u662f\u5426\u90e8\u95e8\u4e3b\u7ba10\u4e0d\u662f1\u662f(\u4f5c\u5e9f)"},{"type":"string","name":"status","required":false,"default":"1","description":"\u72b6\u6001=1\u542f\u52a80\u5173\u95ed2\u6025\u7f3a"},{"type":"string","name":"pid","required":false,"default":"0","description":"\u4e0a\u7ea7"},{"type":"array","name":"power","required":false,"default":null,"description":"\u7ba1\u7406\u7684\u90e8\u95e8,\u4f8b\uff1a[1,2,3]"}],"return_example":"{\"msg\":\"ok\",\"result\":1,\"code\":0,\"state\":true}"},{"url":{"method":"put","path":"\/staff\/role\/{role_id}","description":"\u4fee\u6539\u5c97\u4f4d\u4fe1\u606f"},"params":[{"type":"string","name":"name","required":false,"default":null,"description":"\u5c97\u4f4d\u540d\u79f0"},{"type":"string","name":"duty","required":false,"default":null,"description":"\u5c97\u4f4d\u804c\u8d23"},{"type":"string","name":"full_access","required":false,"default":null,"description":"\u662f\u5426\u90e8\u95e8\u4e3b\u7ba10\u4e0d\u662f1\u662f(\u4f5c\u5e9f)"},{"type":"string","name":"status","required":false,"default":null,"description":"\u72b6\u6001=1\u542f\u52a80\u5173\u95ed2\u6025\u7f3a"},{"type":"string","name":"pid","required":false,"default":null,"description":"\u4e0a\u7ea7"},{"type":"array","name":"power","required":false,"default":null,"description":"\u7ba1\u7406\u7684\u90e8\u95e8,\u4f8b\uff1a[1,2,3]"}],"return_example":"{\"msg\":\"ok\",\"result\":1,\"code\":0,\"state\":true}"},{"url":{"method":"get","path":"\/staff\/role\/all","description":"\u6240\u6709\u5c97\u4f4d\u7684\u4fe1\u606f"},"params":[{"type":"bool","name":"tree","required":false,"default":"true","description":"\u662f\u5426\u8fd4\u56de\u6811\u72b6\u6570\u636e"}],"return_example":"{\"msg\":\"ok\",\"result\":[{\"id\":1,\"pid\":\"0\",\"status\":\"1\",\"name\":\"\\u5f00\\u53d1A\",\"duty\":\"\",\"created_at\":\"2021-01-1814:09:03\",\"updated_at\":\"2021-01-1814:09:03\",\"power\":[{\"department_id\":\"3\",\"created_at\":\"2021-01-2111:26:38\",\"updated_at\":\"2021-01-2111:26:38\"},{\"department_id\":\"5\",\"created_at\":null,\"updated_at\":null}],\"children\":[{\"id\":2,\"pid\":\"1\",\"status\":\"2\",\"name\":\"\\u5458\\u5de5A\",\"duty\":\"\",\"created_at\":\"2021-01-1814:10:24\",\"updated_at\":\"2021-01-1814:10:24\",\"power\":[{\"department_id\":\"4\",\"created_at\":null,\"updated_at\":null}],\"children\":[]}]}],\"code\":0,\"state\":true}"},{"url":{"method":"get","path":"\/staff\/role\/manage\/department","description":"\u67e5\u770b\u672c\u4eba\u7ba1\u7406\u90e8\u95e8\u7684\u8be6\u7ec6\u4fe1\u606f(\u8fd4\u56de\u90e8\u95e8\u4ee5\u53ca\u5176\u5458\u5de5),\u4e0a\u7ea7\u90e8\u95e8\u4ee5\u53ca\u5176\u8d1f\u8d23\u4eba"},"return_example":"{\"msg\":\"ok\",\"result\":[{\"id\":4,\"pid\":\"0\",\"depth\":\"0\",\"name\":\"\\u90e8\\u95e8\\u6d4b\\u8bd52\",\"duty\":\"\",\"created_at\":\"2021-01-2011:55:55\",\"updated_at\":\"2021-01-2011:55:55\",\"children\":[{\"id\":5,\"pid\":\"4\",\"depth\":\"0\",\"name\":\"\\u90e8\\u95e8\\u6d4b\\u8bd52-2\",\"duty\":\"\",\"created_at\":\"2021-01-2011:56:05\",\"updated_at\":\"2021-01-2117:22:24\",\"staff\":[],\"lead\":null,\"children\":[]}],\"staff\":[],\"leader\":null},{\"id\":6,\"pid\":\"0\",\"depth\":\"0\",\"name\":\"\\u90e8\\u95e8\\u6d4b\\u8bd53\",\"duty\":\"\",\"created_at\":\"2021-01-2013:28:53\",\"updated_at\":\"2021-01-2117:22:24\",\"staff\":[],\"lead\":null,\"children\":[]}],\"code\":0,\"state\":true}"}],"info":[]}},"\u8d26\u53f7":{"\u5458\u5de5":{"api":[{"url":{"method":"post","path":"\/staff","description":"\u65b0\u589e\u5458\u5de5"},"params":[{"type":"string","name":"name","required":true,"default":null,"description":"\u5458\u5de5\u59d3\u540d"},{"type":"int","name":"department_id","required":true,"default":null,"description":"\u90e8\u95e8id"},{"type":"int","name":"role_id","required":true,"default":null,"description":"\u89d2\u8272id\uff08\u5c97\u4f4d\uff09"},{"type":"string","name":"job_number","required":false,"default":null,"description":"\u5de5\u53f7"},{"type":"date","name":"join_time","required":false,"default":null,"description":"\u5165\u804c\u65f6\u95f4"},{"type":"string","name":"nick_name","required":false,"default":null,"description":"\u6635\u79f0"},{"type":"string","name":"mobile","required":false,"default":null,"description":"\u624b\u673a\u53f7"},{"type":"string","name":"mail","required":false,"default":null,"description":"\u90ae\u7bb1"},{"type":"string","name":"duty","required":false,"default":null,"description":"\u5458\u5de5\u4e2a\u4eba\u804c\u8d23"},{"type":"array","name":"leader","required":false,"default":null,"description":"\u8d1f\u8d23\u7684\u90e8\u95e8\u4f8b\uff1a[1,2,3](\u4f1a\u628a\u539f\u8d1f\u8d23\u4eba\u8986\u76d6)"}],"return_example":"{\"msg\":\"ok\",\"result\":1,\"code\":0,\"state\":true}"},{"url":{"method":"put","path":"\/staff\/{staff_id}","description":"\u4fee\u6539\u54e1\u5de5\u4fe1\u606f"},"params":[{"type":"string","name":"name","required":false,"default":null,"description":"\u5458\u5de5\u59d3\u540d"},{"type":"string","name":"job_number","required":false,"default":null,"description":"\u5de5\u53f7"},{"type":"date","name":"join_time","required":false,"default":null,"description":"\u5165\u804c\u65f6\u95f4"},{"type":"int","name":"department_id","required":false,"default":null,"description":"\u90e8\u95e8id"},{"type":"int","name":"role_id","required":false,"default":null,"description":"\u89d2\u8272id\uff08\u5c97\u4f4d\uff09"},{"type":"string","name":"nick_name","required":false,"default":null,"description":"\u6635\u79f0"},{"type":"string","name":"mobile","required":false,"default":null,"description":"\u624b\u673a\u53f7"},{"type":"string","name":"mail","required":false,"default":null,"description":"\u90ae\u7bb1"},{"type":"string","name":"duty","required":false,"default":null,"description":"\u5458\u5de5\u4e2a\u4eba\u804c\u8d23"},{"type":"array","name":"leader","required":false,"default":null,"description":"\u8d1f\u8d23\u7684\u90e8\u95e8\u4f8b\uff1a[1,2,3](\u4f1a\u628a\u539f\u8d1f\u8d23\u4eba\u8986\u76d6)"}],"return_example":"{\"msg\":\"ok\",\"result\":1,\"code\":0,\"state\":true}"},{"url":{"method":"get","path":"\/staff\/all","description":"\u7ba1\u7406\u5458\u83b7\u53d6\u6240\u6709\u5458\u5de5\u4fe1\u606f"}},{"url":{"method":"delete","path":"\/staff\/{staff_id}","description":"\u5220\u9664\u5458\u5de5"},"return_example":"{\"msg\":\"ok\",\"result\":true,\"code\":0,\"state\":true}"},{"url":{"method":"post","path":"\/staff\/avatar\/{staff_id}","description":"\u4fee\u6539\u5458\u5de5\u5934\u50cf(jpeg,"},"params":[{"type":"file","name":"avatar","required":false,"default":null,"description":"\u5934\u50cf"}],"return_example":"{\"msg\":\"ok\",\"result\":\"\\\/public\\\/avatars\\\/u51mXqIhpxKvHKQsuaeXX49oJ5vh0Cx5MjzHn1yu.gif\",\"code\":0,\"state\":true}"}],"info":[]},"\u767b\u5f55\u8d26\u53f7":{"api":[{"url":{"method":"post","path":"\/user","description":"\u7ba1\u7406\u5458\u521b\u5efa\u767b\u5f55\u8d26\u53f7"},"params":[{"type":"string","name":"account","required":true,"default":null,"description":"\u8d26\u53f7\uff08\u4e0d\u80fd\u5c0f\u4e8e5\u4f4d\uff09"},{"type":"string","name":"password","required":true,"default":null,"description":"\u5bc6\u7801\uff08\u4e0d\u80fd\u5c0f\u4e8e6\u4f4d\uff09"},{"type":"int","name":"staff_id","required":false,"default":"0","description":"\u6b64\u8d26\u6237\u7ed1\u5b9a\u7684\u5458\u5de5(\u5458\u5de5\u7684id)"}],"return_example":"{\"msg\":\"ok\",\"result\":[],\"code\":0,\"state\":true}"},{"url":{"method":"put","path":"\/user\/password","description":"\u4fee\u6539\u5f53\u524d\u767b\u5f55\u8d26\u53f7\u7684\u5bc6\u7801(\u6700\u5c11\u516d\u4f4d)"},"params":[{"type":"string","name":"old_pwd","required":false,"default":null,"description":"\u8001\u5bc6\u7801"},{"type":"string","name":"new_pwd","required":false,"default":null,"description":"\u65b0\u5bc6\u7801"},{"type":"string","name":"repeat_pwd","required":false,"default":null,"description":"\u91cd\u590d\u8f93\u5165\u65b0\u5bc6\u7801\uff0c\u9a8c\u8bc12\u4e2a\u65b0\u5bc6\u7801\u662f\u5426\u4e00\u81f4"}]},{"url":{"method":"put","path":"\/user\/manage\/{user_id}","description":"\u7ba1\u7406\u4fee\u6539\u5bf9\u5e94\u8d26\u53f7\u7684\u4fe1\u606f"},"params":[{"type":"string","name":"new_pwd","required":false,"default":null,"description":"\u65b0\u5bc6\u7801"},{"type":"int","name":"status","required":false,"default":null,"description":"\u8d26\u53f7\u72b6\u60011\u5f00\u542f0\u5173\u95ed2\u51bb\u7ed33\u5f02\u5e38"}]},{"url":{"method":"get","path":"\/user\/all","description":"\u7ba1\u7406\u5458\u67e5\u770b\u6240\u6709\u767b\u5f55\u8d26\u53f7"},"return_example":"{\"msg\":\"ok\",\"result\":[{\"id\":4,\"status\":\"1\",\"is_admin\":false,\"account\":\"666666\",\"created_at\":\"2021-01-2018:01:42\",\"updated_at\":\"2021-01-2018:01:42\",\"staff\":null},{\"id\":5,\"status\":\"1\",\"is_admin\":false,\"account\":\"wanqin\",\"created_at\":\"2021-01-2019:29:09\",\"updated_at\":\"2021-01-2217:46:54\",\"staff\":null},{\"id\":6,\"status\":\"1\",\"is_admin\":false,\"account\":\"wanqin\",\"created_at\":\"2021-01-2019:29:14\",\"updated_at\":\"2021-01-2019:29:14\",\"staff\":null},{\"id\":7,\"status\":\"1\",\"is_admin\":false,\"account\":\"wangqin\",\"created_at\":\"2021-01-2116:45:47\",\"updated_at\":\"2021-01-2116:45:47\",\"staff\":{\"id\":21,\"user_id\":\"7\",\"status\":\"1\",\"name\":\"\\u738b\\u94a6\",\"nick_name\":\"aaa\",\"mobile\":\"13666666666\",\"mail\":\"18888","descriptions":["qq.com\",\"job_number\":\"315646\",\"duty\":\"\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\\u642c\\u7816\\u4ec1\\u7701\",\"join_time\":\"2021-01-05"]}],"info":[]}},"\u767b\u5f55":{"\u767b\u5f55":{"api":[{"url":{"method":"post","path":"\/user\/login","description":"\u767b\u5f55(\u8fd4\u56detoken)\uff0c\u540e\u7eed\u64cd\u4f5chead\u5185\u653e\u5165token"},"params":[{"type":"string","name":"account","required":true,"default":null,"description":"\u8d26\u53f7\uff08\u4e0d\u80fd\u5c0f\u4e8e5\u4f4d\uff09"},{"type":"password","name":"account","required":true,"default":null,"description":"\u8d26\u53f7\uff08\u4e0d\u80fd\u5c0f\u4e8e6\u4f4d\uff09"}],"return_example":"{\"msg\":\"ok\",\"result\":{\"user_id\":\"5\",\"status\":\"1\",\"name\":\"\\u4e00\\u53f7\\u5458\\u5de5\",\"nick_name\":\"\",\"mobile\":\"\",\"mail\":\"\",\"job_number\":\"#001\",\"duty\":\"\",\"join_time\":\"2021-01-1407:45:59\",\"created_at\":\"2021-01-1415:39:05\",\"updated_at\":\"2021-01-1415:39:05\",\"role\":{\"id\":1,\"pid\":\"0\",\"status\":\"1\",\"full_access\":\"0\",\"name\":\"\\u5f00\\u53d1\",\"duty\":\"\",\"created_at\":\"2021-01-1415:29:43\",\"updated_at\":\"2021-01-1415:29:43\",\"power\":[{\"department_id\":\"3\",\"created_at\":null,\"updated_at\":null},{\"department_id\":\"4\",\"created_at\":null,\"updated_at\":null}]},\"department\":{\"id\":4,\"pid\":\"3\",\"depth\":\"2\",\"name\":\"2\\u7ea7\\u90e8\\u95e8\",\"duty\":\"\",\"created_at\":\"2021-01-1414:44:55\",\"updated_at\":\"2021-01-1414:44:55\"},\"is_admin\":\"1\"},\"code\":0,\"state\":true}"}],"info":[]}}}}